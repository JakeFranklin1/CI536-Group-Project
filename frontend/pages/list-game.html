<!doctype html>
<html lang="en">

<head>
    <!-- Meta's -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>List a Game - GameStore</title>
    <meta name="description" content="List your game for sale on GameStore" />
    <meta name="theme-color" content="#000000" />

    <!-- Favicons -->
    <link rel="icon" type="image/png" href="../assets/favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="../assets/favicons/favicon.svg" />
    <link rel="shortcut icon" href="../assets/favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="GameStore" />
    <link rel="manifest" href="../assets/favicons/site.webmanifest" />

    <!-- Styles -->
    <link rel="stylesheet" href="../styles/marketplace-main.css" />
    <link rel="stylesheet" href="../styles/components/game-listing-form.css" />
    <link rel="stylesheet" href="../styles/layouts/special-pages.css" />

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;400;700&display=swap" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Raleway:wght@300;400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
</head>

<body class="special-page">
    <div class="loading hidden" id="loading">
        <div class="spinner"></div>
    </div>

    <!-- Header Content -->
    <header class="main-header">
        <div class="header-content">
            <div class="brand-container">
                <div class="brand-content">
                    <img src="../assets/icons/LOGO.svg" alt="GameStore Logo" class="logo" />
                    <span class="brand-name">GameStore</span>
                </div>
            </div>

            <div class="search-bar">
                <input type="text" placeholder="Search for games..." />
                <button class="search-btn" type="button" title="Search for games">
                    <i class="fa fa-search"></i>
                </button>
            </div>

            <div class="cart-container">
                <button id="open-cart-btn" class="cart-btn" type="button" title="View cart">
                    <i class="fa fa-shopping-cart"></i>
                </button>
            </div>
        </div>
    </header>

    <div id="cart-overlay" class="cart-overlay"></div>

    <!-- Side cart -->
    <div class="side-cart">
        <div class="side-cart-header">
            <button type="button" id="close-cart-btn" class="closebtn">&times;</button>
            <h3>Shopping Cart</h3>
        </div>

        <div class="cart-items">

            <div class="cart-item">
                <div class="cart-item-details">
                    <div class="cart-item-title">Example Game</div>
                    <div class="cart-item-info">
                        <img src="../assets/images/cp2077_game-thumbnail.webp" alt="Cyberpunk 2077"
                            class="cart-item-image">
                        <div>
                            <div class="cart-item-platform">PlayStation 5</div>
                            <div class="cart-item-price">£59.99</div>
                            <div class="cart-item-quantity">
                                <label>Qty:</label>
                                <div class="quantity-controls">
                                    <button class="quantity-decrement">-</button>
                                    <span class="quantity-value">1</span>
                                    <button class="quantity-increment">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="cart-remove" title="Remove item">
                    <i class="fa fa-times"></i>
                </button>
            </div>

            <div class="cart-item">
                <div class="cart-item-details">
                    <div class="cart-item-title">Example Game</div>
                    <div class="cart-item-info">
                        <img src="../assets/images/cp2077_game-thumbnail.webp" alt="Cyberpunk 2077"
                            class="cart-item-image">
                        <div>
                            <div class="cart-item-platform">PlayStation 5</div>
                            <div class="cart-item-price">£59.99</div>
                            <div class="cart-item-quantity">
                                <label>Qty:</label>
                                <div class="quantity-controls">
                                    <button class="quantity-decrement">-</button>
                                    <span class="quantity-value">1</span>
                                    <button class="quantity-increment">+</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button class="cart-remove" title="Remove item">
                    <i class="fa fa-times"></i>
                </button>
            </div>

        </div>

        <div class="cart-summary">
            <div class="cart-total">
                <span>Total:</span>
                <span id="total-cost">$129.98</span>
            </div>
            <button class="checkout-btn">Checkout</button>
        </div>
    </div>

    <div class="page-layout">
        <!-- Hamburger menu for mobile -->
        <button class="hamburger-menu" aria-label="Toggle navigation menu">
            <div class="hamburger-lines">
                <span class="line line1"></span>
                <span class="line line2"></span>
                <span class="line line3"></span>
            </div>
        </button>

        <!-- Side Navigation -->
        <aside class="side-nav">
            <nav class="side-nav-content">

                <div class="filter-section">
                    <h3>Settings</h3>
                    <ul>
                        <li>
                            <a href="account.html">
                                <span class="icon-container"><i class="fa fa-user"></i></span>
                                Profile
                            </a>
                        </li>
                        <li>
                            <a href="about.html">
                                <span class="icon-container"><i class="fa fa-info-circle"></i></span>
                                About
                            </a>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-sun-o"></i></span>
                                Light Theme
                            </button>
                        </li>
                        <li>
                            <button type="button" onclick="handleSignOut()">
                                <span class="icon-container"><i class="fa fa-sign-out"></i></span>
                                Sign Out
                            </button>
                        </li>
                    </ul>
                </div>
                <div class="filter-section">
                    <h3>Community</h3>
                    <ul>
                        <li>
                            <a href="list-game.html">
                                <span class="icon-container"><i class="fa fa-plus"></i></span>
                                List a Game
                            </a>
                        </li>
                        <li>
                            <button type="button" onclick="handleFilterSelection('timeframe', 'Community Games')">
                                <span class="icon-container"><i class="fa fa-users"></i></span>
                                Community Games
                            </button>
                        </li>
                        <li>
                            <a href="manage-listings.html">
                                <span class="icon-container"><i class="fa fa-list"></i></span>
                                Manage Listings
                            </a>
                        </li>
                    </ul>
                </div>

                <div class="filter-section">
                    <h3>Top Games</h3>
                    <ul>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-trophy"></i></span>
                                All Time
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-calendar"></i></span>
                                Specific Year
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-star"></i></span>
                                Popular in 2025
                            </button>
                        </li>
                    </ul>
                </div>

                <div class="filter-section">
                    <h3>Platforms</h3>
                    <ul>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-windows"></i></span>
                                PC
                            </button>
                        </li>
                        <li>
                            <button type="button">

                                <span class="icon-container"><img src="../assets/icons/playstation.svg"
                                        title="playstation"></span>
                                PlayStation
                            </button>
                        </li>
                        <li>
                            <button type="button">

                                <span class="icon-container"><img src="../assets/icons/xbox.svg"
                                        title="playstation"></span>
                                Xbox
                            </button>
                        </li>
                        <li>
                            <button type="button">

                                <span class="icon-container"><img src="../assets/icons/nintendo.svg"
                                        title="playstation"></span>
                                Nintendo
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><img src="../assets/icons/android.svg"
                                        title="playstation"></span>
                                Android
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><img src="../assets/icons/apple.svg"
                                        title="playstation"></span>
                                Apple
                            </button>
                        </li>
                    </ul>
                </div>

                <div class="filter-section">
                    <h3>Categories</h3>
                    <ul>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-bolt"></i></span>
                                Action
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-compass"></i></span>
                                Adventure
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-shield"></i></span>
                                RPG
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-puzzle-piece"></i></span>
                                Strategy
                            </button>
                        </li>
                        <li>
                            <button type="button">
                                <span class="icon-container"><i class="fa fa-futbol-o"></i></span>
                                Sport
                            </button>
                        </li>
                    </ul>
                </div>
            </nav>
        </aside>

        <main class="main-content">
            <div class="game-listing-container">
                <div class="back-button-container">
                    <a href="marketplace.html" class="back-to-marketplace">
                        <i class="fa fa-arrow-left"></i> Back to Marketplace
                    </a>
                </div>

                <h1>List Your Game</h1>

                <div id="listing-form-container" class="form-container">
                    <!-- Multi-step form -->
                    <div class="form-progress">
                        <div class="progress-step active" data-step="1">
                            <span class="step-number">1</span>
                            <span class="step-label">Basic Info</span>
                        </div>
                        <div class="progress-step" data-step="2">
                            <span class="step-number">2</span>
                            <span class="step-label">Media</span>
                        </div>
                        <div class="progress-step" data-step="3">
                            <span class="step-number">3</span>
                            <span class="step-label">Pricing</span>
                        </div>
                        <div class="progress-step" data-step="4">
                            <span class="step-number">4</span>
                            <span class="step-label">Review</span>
                        </div>
                    </div>

                    <form id="game-listing-form" class="game-listing-form">
                        <!-- Step 1: Basic Info -->
                        <div class="form-step active" data-step="1">
                            <h2>Game Information</h2>

                            <div class="form-group">
                                <label for="game-title">Game Title<span class="required">*</span></label>
                                <input type="text" id="game-title" name="title" required>
                                <div class="error-message"></div>
                            </div>

                            <div class="form-group">
                                <label for="game-description">Description<span class="required">*</span></label>
                                <textarea id="game-description" name="description" rows="6" required></textarea>
                                <div class="error-message"></div>
                            </div>

                            <div class="form-group">
                                <label>Platform(s)<span class="required">*</span></label>
                                <div class="platform-selection-container" id="platform-selection">
                                    <button type="button" class="platform-btn" data-platform="PC">PC</button>
                                    <button type="button" class="platform-btn"
                                        data-platform="PlayStation">PlayStation</button>
                                    <button type="button" class="platform-btn" data-platform="Xbox">Xbox</button>
                                    <button type="button" class="platform-btn"
                                        data-platform="Nintendo">Nintendo</button>
                                    <button type="button" class="platform-btn"
                                        data-platform="Android">Android</button>
                                    <button type="button" class="platform-btn"
                                        data-platform="Apple">Apple</button>
                                </div>
                                <div class="error-message" id="platform-error"></div>
                            </div>

                            <div class="form-group">
                                <label for="release-date">Release Date</label>
                                <input type="date" id="release-date" name="release_date">
                                <div class="error-message"></div>
                            </div>

                            <div class="form-navigation">
                                <button type="button" class="btn-next">Continue to Media <i
                                        class="fa fa-arrow-right"></i></button>
                            </div>
                        </div>

                        <!-- Step 2: Media (Cover & Screenshots) -->
                        <div class="form-step" data-step="2">
                            <h2>Game Media</h2>

                            <div class="form-group">
                                <label for="cover-image">Cover Image<span class="required">*</span></label>
                                <div class="image-upload-container" id="cover-upload-container">
                                    <div class="image-upload-box">
                                        <i class="fa fa-cloud-upload"></i>
                                        <p>Drag & drop or click to upload</p>
                                        <p class="file-requirements">Recommended size: 600x900px. Max size: 5MB</p>
                                        <input type="file" id="cover-image" name="cover_image" accept="image/*"
                                            class="file-input" required>
                                    </div>
                                    <div class="image-preview" id="cover-preview"></div>
                                </div>
                                <div class="error-message"></div>
                            </div>

                            <div class="form-group">
                                <label for="screenshots">Screenshots (up to 5)</label>
                                <div class="image-upload-container" id="screenshots-upload-container">
                                    <div class="image-upload-box">
                                        <i class="fa fa-picture-o"></i>
                                        <p>Drag & drop or click to upload</p>
                                        <p class="file-requirements">Recommended size: 1920x1080px. Max size: 5MB each
                                        </p>
                                        <input type="file" id="screenshots" name="screenshots" accept="image/*"
                                            class="file-input" multiple>
                                    </div>
                                    <div class="screenshots-preview" id="screenshots-preview"></div>
                                </div>
                                <div class="error-message"></div>
                            </div>

                            <div class="form-navigation">
                                <button type="button" class="btn-prev"><i class="fa fa-arrow-left"></i> Back</button>
                                <button type="button" class="btn-next">Continue to Pricing <i
                                        class="fa fa-arrow-right"></i></button>
                            </div>
                        </div>

                        <!-- Step 3: Pricing -->
                        <div class="form-step" data-step="3">
                            <h2>Game Pricing</h2>

                            <div class="form-group">
                                <label for="game-price">Price (£)<span class="required">*</span></label>
                                <input type="number" id="game-price" name="price" min="0.01" step="0.01" required>
                                <div class="error-message"></div>
                            </div>

                            <div class="form-navigation">
                                <button type="button" class="btn-prev"><i class="fa fa-arrow-left"></i> Back</button>
                                <button type="button" class="btn-next">Review Listing <i
                                        class="fa fa-arrow-right"></i></button>
                            </div>
                        </div>

                        <!-- Step 4: Review -->
                        <div class="form-step" data-step="4">
                            <h2>Review Your Listing</h2>

                            <div class="listing-preview">
                                <div class="preview-section">
                                    <h3>Game Information</h3>
                                    <div class="preview-row">
                                        <span class="preview-label">Title:</span>
                                        <span class="preview-value" id="preview-title"></span>
                                    </div>
                                    <div class="preview-row">
                                        <span class="preview-label">Description:</span>
                                        <span class="preview-value" id="preview-description"></span>
                                    </div>
                                    <div class="preview-row">
                                        <span class="preview-label">Platform(s):</span>
                                        <span class="preview-value" id="preview-platforms"></span>
                                    </div>
                                    <div class="preview-row">
                                        <span class="preview-label">Release Date:</span>
                                        <span class="preview-value" id="preview-release-date"></span>
                                    </div>
                                    <div class="preview-row">
                                        <span class="preview-label">Price:</span>
                                        <span class="preview-value" id="preview-price"></span>
                                    </div>
                                </div>

                                <div class="preview-section">
                                    <h3>Media Preview</h3>
                                    <div class="preview-media">
                                        <div class="preview-cover" id="preview-cover"></div>
                                        <div class="preview-screenshots" id="preview-screenshots"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="form-navigation">
                                <button type="button" class="btn-prev"><i class="fa fa-arrow-left"></i> Back</button>
                                <button type="submit" class="btn-submit">List Game <i class="fa fa-check"></i></button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </main>

        <!-- Footer Section -->
        <footer class="marketplace-footer">
            <div class="footer-container">
                <div class="footer-column">
                    <h4>GameStore</h4>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="">Careers</a></li>
                        <li><a href="">Press</a></li>
                        <li><a href="">Blog</a></li>
                        <li><a href="">Store Locations</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Customer Service</h4>
                    <ul>
                        <li><a href="">Help Center</a></li>
                        <li><a href="">Contact Us</a></li>
                        <li><a href="">Return Policy</a></li>
                        <li><a href="">Order Status</a></li>
                        <li><a href="">Trade-In Program</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Legal</h4>
                    <ul>
                        <li><a href="">Terms of Service</a></li>
                        <li><a href="">Privacy Policy</a></li>
                        <li><a href="">Cookie Policy</a></li>
                        <li><a href="">EULA</a></li>
                        <li><a href="">Accessibility</a></li>
                    </ul>
                </div>

                <div class="footer-column">
                    <h4>Connect With Us</h4>
                    <div class="social-icons">
                        <a href="" title="Twitter"><i class="fa fa-twitter"></i></a>
                        <a href="" title="Facebook"><i class="fa fa-facebook"></i></a>
                        <a href="" title="Instagram"><i class="fa fa-instagram"></i></a>
                        <a href="" title="YouTube"><i class="fa fa-youtube-play"></i></a>
                        <a href="" title="Discord"><i class="fa fa-comments"></i></a>
                    </div>
                </div>
            </div>

            <div class="footer-bottom">
                <p class="copyright">
                    &copy; 2025 GameStore. All rights reserved. All trademarks are property of their respective owners
                    in the UK and other countries.
                </p>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
    <script type="module" src="../js/utils/page-transition.js"></script>
    <script type="module" src="../js/components/SideCart.js"></script>
    <script type="module" src="../js/modules/game-listing.js"></script>

    <script type="module">
        import { initializeMobileMenu } from "../js/modules/ui-initialiser.js";

        document.addEventListener("DOMContentLoaded", () => {
            // Initialize mobile menu functionality
            initializeMobileMenu();
        });
    </script>
</body>

</html>
